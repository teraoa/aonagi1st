<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AONAGI 1st</title>
  <meta name="description" content="瀬戸内リトリート青凪が提案する新しい旅のかたち">
  <meta property="og:title" content="AONAGI 1st">
  <meta property="og:description" content="The first digital collectibles of Setouchi Retreat Aonagi">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500&display=swap" rel="stylesheet">
  <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.3.0/model-viewer.min.js"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body { font-family: 'Noto Sans JP', sans-serif; background: #fff; color: #000; line-height: 1.6; font-weight: 300; }

    header {
      position: fixed; top: 0; left: 0; right: 0;
      background: rgba(255,255,255,0.98); backdrop-filter: blur(10px);
      z-index: 100; padding: 20px 40px;
      display: flex; justify-content: space-between; align-items: center;
      border-bottom: 1px solid #eee;
    }
    .logo { font-size: 16px; font-weight: 500; letter-spacing: 3px; }
    nav { display: flex; gap: 30px; }
    nav a { text-decoration: none; color: #000; font-size: 12px; letter-spacing: 1px; opacity: 0.6; transition: opacity 0.3s; }
    nav a:hover { opacity: 1; }
    .menu-toggle { display: none; background: none; border: none; cursor: pointer; padding: 10px; }
    .menu-toggle span { display: block; width: 20px; height: 1px; background: #000; margin: 5px 0; }

    main { padding-top: 61px; }

    .filter-bar { padding: 30px 40px; background: #fff; border-bottom: 1px solid #eee; }
    .filter-row { max-width: 1400px; margin: 0 auto 15px; }
    .filter-row:last-child { margin-bottom: 0; }
    .filter-label { font-size: 10px; letter-spacing: 2px; color: #999; margin-bottom: 12px; display: block; }
    .filter-tags { display: flex; flex-wrap: wrap; gap: 10px; }
    .filter-tag { 
      padding: 8px 18px; 
      border: 1px solid #ddd; 
      background: #fff; 
      color: #666; 
      font-size: 12px; 
      cursor: pointer; 
      transition: all 0.3s; 
      font-family: inherit;
      border-radius: 0;
    }
    .filter-tag:hover { border-color: #999; color: #000; }
    .filter-tag.active { background: #000; color: #fff; border-color: #000; }

    .gallery-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 3px; background: #f5f5f5; }
    .gallery-item { aspect-ratio: 1; background: #f0f0f0; cursor: pointer; overflow: hidden; position: relative; }
    .gallery-item.hidden { display: none; }
    .gallery-item img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s, opacity 0.3s; }
    .gallery-item:hover img { transform: scale(1.03); }
    .gallery-item-overlay { 
      position: absolute; bottom: 0; left: 0; right: 0; 
      padding: 25px; 
      background: linear-gradient(transparent, rgba(255,255,255,0.95)); 
      opacity: 0; 
      transition: opacity 0.3s; 
    }
    .gallery-item:hover .gallery-item-overlay { opacity: 1; }
    .gallery-item-name { font-size: 16px; font-weight: 400; color: #000; }
    .gallery-item-meta { font-size: 10px; color: #999; margin-top: 5px; letter-spacing: 1px; }

    /* Modal */
    .modal { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(255,255,255,0.98); z-index: 200; overflow-y: auto; }
    .modal.active { display: block; }
    .modal-close { position: fixed; top: 25px; right: 40px; background: none; border: none; font-size: 24px; cursor: pointer; color: #000; opacity: 0.4; z-index: 210; }
    .modal-close:hover { opacity: 1; }
    .modal-content { max-width: 1200px; margin: 0 auto; padding: 80px 40px; }
    .modal-header { margin-bottom: 40px; }
    .modal-name { font-size: 32px; font-weight: 400; letter-spacing: 2px; }
    .modal-attrs { display: flex; gap: 30px; margin-top: 15px; }
    .modal-attr { font-size: 12px; color: #999; }
    .modal-attr span { color: #000; margin-left: 8px; }
    .modal-viewers { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; }
    .viewer-box { background: #f5f5f5; overflow: hidden; }
    .viewer-label { font-size: 10px; letter-spacing: 2px; color: #999; padding: 15px 20px; border-bottom: 1px solid #eee; background: #fff; }
    .viewer-content { aspect-ratio: 1; }
    .viewer-content img { width: 100%; height: 100%; object-fit: contain; background: #f5f5f5; }
    .viewer-content model-viewer { width: 100%; height: 100%; }
    .modal-description { margin-top: 40px; font-size: 13px; line-height: 1.8; color: #666; max-width: 600px; }

    /* About Section */
    .about { background: #fff; padding: 100px 40px; }
    .about-container { max-width: 1000px; margin: 0 auto; }
    .section-title { font-size: 11px; letter-spacing: 3px; color: #999; margin-bottom: 60px; text-align: center; }
    .about-block { margin-bottom: 100px; }
    .about-block:last-child { margin-bottom: 0; }
    .about-block h2 { font-size: 18px; font-weight: 400; letter-spacing: 2px; margin-bottom: 30px; padding-bottom: 15px; border-bottom: 1px solid #eee; }
    .about-block p { font-size: 14px; line-height: 2; color: #333; margin-bottom: 15px; }
    .about-block p:last-of-type { margin-bottom: 0; }
    .about-block p.en { color: #888; font-size: 13px; }

    .rule-flow { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin-top: 40px; }
    .rule-step { background: #f9f9f9; padding: 25px; text-align: center; border: 1px solid #eee; }
    .rule-step-num { font-size: 10px; letter-spacing: 2px; color: #999; margin-bottom: 10px; }
    .rule-step-title { font-size: 13px; font-weight: 400; margin-bottom: 5px; }
    .rule-step-title-en { font-size: 11px; color: #999; margin-bottom: 8px; }
    .rule-step-desc { font-size: 11px; color: #999; }

    .results-stats { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin-bottom: 40px; }
    .stat-item { background: #f9f9f9; padding: 25px; text-align: center; }
    .stat-value { font-size: 28px; font-weight: 400; }
    .stat-label { font-size: 10px; letter-spacing: 1px; color: #999; margin-top: 8px; }
    
    .results-ranking { background: #f9f9f9; border: 1px solid #eee; }
    .ranking-header { display: grid; grid-template-columns: 60px 1fr 100px; padding: 15px 25px; border-bottom: 1px solid #eee; font-size: 10px; letter-spacing: 1px; color: #999; }
    .ranking-row { display: grid; grid-template-columns: 60px 1fr 100px; padding: 8px 25px; border-bottom: 1px solid #eee; align-items: center; }
    .ranking-row:last-child { border-bottom: none; }
    .rank-num { font-size: 16px; }
    .rank-num.gold { color: #d4af37; }
    .rank-num.silver { color: #a0a0a0; }
    .rank-num.bronze { color: #cd7f32; }
    .rank-address { font-family: monospace; font-size: 12px; color: #666; word-break: break-all; }
    .rank-points { text-align: right; font-size: 15px; }

    .slideshow-wrap { background: #f9f9f9; padding: 30px; border: 1px solid #eee; }
    .slide { display: none; }
    .slide.active { display: block; }
    .slide img { width: 100%; height: auto; }
    .slide-controls { display: flex; justify-content: center; align-items: center; gap: 20px; margin-top: 20px; }
    .slide-btn { background: #fff; border: 1px solid #ddd; color: #000; padding: 10px 25px; cursor: pointer; font-size: 11px; letter-spacing: 1px; transition: all 0.3s; }
    .slide-btn:hover { background: #000; color: #fff; border-color: #000; }
    .slide-counter { font-size: 12px; color: #999; }

    footer { padding: 40px; text-align: center; border-top: 1px solid #eee; background: #fff; }
    footer a { color: #000; text-decoration: none; font-size: 11px; letter-spacing: 1px; opacity: 0.6; }
    footer a:hover { opacity: 1; }
    footer p { font-size: 10px; color: #999; margin-top: 15px; }

    @media (max-width: 768px) {
      header { padding: 15px 20px; }
      nav { display: none; position: absolute; top: 100%; left: 0; right: 0; background: #fff; flex-direction: column; padding: 20px; border-bottom: 1px solid #eee; }
      nav.active { display: flex; }
      .menu-toggle { display: block; }
      .filter-bar { padding: 20px; }
      .gallery-grid { grid-template-columns: repeat(2, 1fr); }
      .about { padding: 60px 20px; }
      .rule-flow { grid-template-columns: repeat(2, 1fr); }
      .results-stats { grid-template-columns: repeat(2, 1fr); }
      .ranking-header, .ranking-row { grid-template-columns: 40px 1fr 70px; padding: 12px 15px; }
      .rank-address { font-size: 10px; }
      .modal-content { padding: 60px 20px; }
      .modal-viewers { grid-template-columns: 1fr; }
      .modal-name { font-size: 24px; }
    }
  </style>
</head>
<body>
  <header>
    <div class="logo">AONAGI 1st</div>
    <button class="menu-toggle" onclick="document.getElementById('nav').classList.toggle('active')">
      <span></span><span></span><span></span>
    </button>
    <nav id="nav">
      <a href="#gallery">GALLERY</a>
      <a href="#about">ABOUT</a>
    </nav>
  </header>

  <main>
    <section id="gallery">
      <div class="filter-bar">
        <div class="filter-row">
          <span class="filter-label">FLOOR</span>
          <div class="filter-tags" id="floor-filters"></div>
        </div>
        <div class="filter-row">
          <span class="filter-label">AREA</span>
          <div class="filter-tags" id="area-filters"></div>
        </div>
      </div>
      <div class="gallery-grid" id="galleryGrid"></div>
    </section>

    <section class="about" id="about">
      <p class="section-title">ABOUT</p>
      <div class="about-container">
        
        <div class="about-block">
          <h2>CONCEPT</h2>
          <p>どことなく青凪を想起させる黒いオブジェクトは、60年代のミニマリズムを参照。すべての作品は、瀬戸内リトリート青凪のスタッフが日々目にしているお気に入りのシーンを切り取った写真をもとに制作されました。</p>
          <p class="en">AONAGI 1st is the first digital collectibles of Setouchi Retreat Aonagi. The black objects, like the landscape of Aonagi, reference the minimalism of the 1960s. All of these were created based on favorite scenes that the staff sees every day.</p>
        </div>

        <div class="about-block">
          <h2>RULE</h2>
          <p>Meet THE 1st NFT Collective（2023.02.24）では、参加者が館内を巡りながらNFTを収集するゲームを実施。各作品にはポイントが設定され、収集したポイントの合計でランキングを競いました。</p>
          <p class="en">At Meet THE 1st NFT Collective (2023.02.24), participants explored the venue while collecting NFTs. Each artwork was assigned points, and rankings were determined by the total points collected.</p>
          <div class="rule-flow">
            <div class="rule-step">
              <div class="rule-step-num">01</div>
              <div class="rule-step-title">受付・ウォレット作成</div>
              <div class="rule-step-title-en">Registration & Wallet Setup</div>
              <div class="rule-step-desc">13:50〜</div>
            </div>
            <div class="rule-step">
              <div class="rule-step-num">02</div>
              <div class="rule-step-title">作品展示・ゲーム参加</div>
              <div class="rule-step-title-en">Exhibition & Game</div>
              <div class="rule-step-desc">14:00〜</div>
            </div>
            <div class="rule-step">
              <div class="rule-step-num">03</div>
              <div class="rule-step-title">レセプション</div>
              <div class="rule-step-title-en">Reception</div>
              <div class="rule-step-desc">17:00〜</div>
            </div>
            <div class="rule-step">
              <div class="rule-step-num">04</div>
              <div class="rule-step-title">ランキング発表</div>
              <div class="rule-step-title-en">Award Ceremony</div>
              <div class="rule-step-desc">Award</div>
            </div>
          </div>
        </div>

        <div class="about-block">
          <h2>RESULTS</h2>
          <div class="results-stats">
            <div class="stat-item"><div class="stat-value">79</div><div class="stat-label">PARTICIPANTS</div></div>
            <div class="stat-item"><div class="stat-value">124,860</div><div class="stat-label">TOTAL POINTS</div></div>
            <div class="stat-item"><div class="stat-value">1,788</div><div class="stat-label">ITEMS COLLECTED</div></div>
            <div class="stat-item"><div class="stat-value">22.6</div><div class="stat-label">AVG ITEMS</div></div>
          </div>
          <div class="results-ranking">
            <div class="ranking-header">
              <span>RANK</span>
              <span>WALLET ADDRESS</span>
              <span style="text-align:right;">POINT</span>
            </div>
            <div class="ranking-row"><div class="rank-num">1</div><div class="rank-address">0x7Da6e2A678A32108e808a0dBd0639aC16810D756</div><div class="rank-points">3,570</div></div>
            <div class="ranking-row"><div class="rank-num">2</div><div class="rank-address">0x3c83344bF7E4F077825E0a528FbDf4D0b7F8737e</div><div class="rank-points">3,530</div></div>
            <div class="ranking-row"><div class="rank-num">3</div><div class="rank-address">0x5EB206bb363A5F94b6EF98D7E76Edf0585F90C10</div><div class="rank-points">3,480</div></div>
            <div class="ranking-row"><div class="rank-num">4</div><div class="rank-address">0x275f334F965956E06Ab35Ea547112Ff8DF2bBc0D</div><div class="rank-points">3,480</div></div>
            <div class="ranking-row"><div class="rank-num">5</div><div class="rank-address">0xb165B2698A5027ca70B7eAF216FCEc8aA7468E48</div><div class="rank-points">3,480</div></div>
            <div class="ranking-row"><div class="rank-num">6</div><div class="rank-address">0x1F1363F650f616F293ccb1Ca2dF00D183419B9Ab</div><div class="rank-points">3,330</div></div>
            <div class="ranking-row"><div class="rank-num">7</div><div class="rank-address">0xaE7d4b5397929BD00009a1Cd54Ca2108c43b4070</div><div class="rank-points">3,290</div></div>
            <div class="ranking-row"><div class="rank-num">8</div><div class="rank-address">0x467B5Bf4249f91990fFF188A5240B5C7282e752C</div><div class="rank-points">3,280</div></div>
            <div class="ranking-row"><div class="rank-num">9</div><div class="rank-address">0xB0554129b7101DCb1fcAa06bbCBF77A20c3a6A24</div><div class="rank-points">3,230</div></div>
            <div class="ranking-row"><div class="rank-num">10</div><div class="rank-address">0xa3BF0A2C8BE034BA22271cE3D819B3fde80B4074</div><div class="rank-points">3,180</div></div>
          </div>
        </div>

        <div class="about-block">
          <h2>DOCUMENT</h2>
          <div class="slideshow-wrap">
            <div id="slideshow">
              <div class="slide active"><img src="slides/slide-13.png" alt="Slide"></div>
              <div class="slide"><img src="slides/slide-14.png" alt="Slide"></div>
              <div class="slide"><img src="slides/slide-15.png" alt="Slide"></div>
              <div class="slide"><img src="slides/slide-16.png" alt="Slide"></div>
              <div class="slide"><img src="slides/slide-17.png" alt="Slide"></div>
              <div class="slide"><img src="slides/slide-18.png" alt="Slide"></div>
              <div class="slide"><img src="slides/slide-19.png" alt="Slide"></div>
              <div class="slide"><img src="slides/slide-20.png" alt="Slide"></div>
              <div class="slide"><img src="slides/slide-21.png" alt="Slide"></div>
              <div class="slide"><img src="slides/slide-22.png" alt="Slide"></div>
              <div class="slide"><img src="slides/slide-23.png" alt="Slide"></div>
              <div class="slide"><img src="slides/slide-24.png" alt="Slide"></div>
              <div class="slide"><img src="slides/slide-25.png" alt="Slide"></div>
              <div class="slide"><img src="slides/slide-26.png" alt="Slide"></div>
            </div>
            <div class="slide-controls">
              <button class="slide-btn" onclick="changeSlide(-1)">←</button>
              <span class="slide-counter"><span id="currentSlide">1</span> / 14</span>
              <button class="slide-btn" onclick="changeSlide(1)">→</button>
            </div>
          </div>
        </div>

      </div>
    </section>
  </main>

  <div class="modal" id="modal">
    <button class="modal-close" onclick="closeModal()">×</button>
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-name" id="modal-name"></h2>
        <div class="modal-attrs" id="modal-attrs"></div>
      </div>
      <div class="modal-viewers">
        <div class="viewer-box"><div class="viewer-label">IMAGE</div><div class="viewer-content"><img id="modal-image" src="" alt=""></div></div>
        <div class="viewer-box"><div class="viewer-label">3D MODEL</div><div class="viewer-content"><model-viewer id="modal-model" camera-controls auto-rotate shadow-intensity="1" exposure="0.8"></model-viewer></div></div>
      </div>
      <p class="modal-description" id="modal-desc"></p>
    </div>
  </div>

  <footer>
    <a href="https://setouchi-aonagi.com/" target="_blank">OFFICIAL SITE</a>
    <p>© 2024 AONAGI 1st</p>
  </footer>

  <script>
    let slideIndex = 0;
    const slides = document.querySelectorAll('.slide');
    function changeSlide(d) {
      slideIndex += d;
      if (slideIndex >= slides.length) slideIndex = 0;
      if (slideIndex < 0) slideIndex = slides.length - 1;
      slides.forEach((s, i) => s.classList.toggle('active', i === slideIndex));
      document.getElementById('currentSlide').textContent = slideIndex + 1;
    }
    document.addEventListener('keydown', e => {
      if (document.getElementById('modal').classList.contains('active')) return;
      if (e.key === 'ArrowLeft') changeSlide(-1);
      if (e.key === 'ArrowRight') changeSlide(1);
    });

    let artworks = [];
    let filters = { floor: 'all', area: 'all' };

    async function init() {
      const res = await fetch('data.json');
      artworks = await res.json();
      renderFilters();
      renderGallery();
    }

    function getValues(key) {
      const set = new Set();
      artworks.forEach(a => {
        const attr = a.attributes.find(x => x.trait_type === key);
        if (attr && attr.value !== '-') set.add(attr.value);
      });
      return [...set].sort();
    }

    function renderFilters() {
      ['FLOOR', 'AREA'].forEach(key => {
        const container = document.getElementById(key.toLowerCase() + '-filters');
        container.innerHTML = `<button class="filter-tag active" data-key="${key}" data-val="all">ALL</button>`;
        getValues(key).forEach(v => {
          container.innerHTML += `<button class="filter-tag" data-key="${key}" data-val="${v}">${v}</button>`;
        });
      });
      document.querySelectorAll('.filter-tag').forEach(btn => {
        btn.onclick = e => {
          const key = e.target.dataset.key.toLowerCase();
          filters[key] = e.target.dataset.val;
          document.querySelectorAll(`[data-key="${e.target.dataset.key}"]`).forEach(b => b.classList.remove('active'));
          e.target.classList.add('active');
          filterGallery();
        };
      });
    }

    function renderGallery() {
      const grid = document.getElementById('galleryGrid');
      grid.innerHTML = '';
      artworks.forEach((a, i) => {
        const floor = a.attributes.find(x => x.trait_type === 'FLOOR')?.value || '-';
        const area = a.attributes.find(x => x.trait_type === 'AREA')?.value || '-';
        const div = document.createElement('div');
        div.className = 'gallery-item';
        div.dataset.floor = floor;
        div.dataset.area = area;
        div.onclick = () => openModal(i);
        div.innerHTML = `<img src="images/${a.image}" alt="${a.name}" loading="lazy"><div class="gallery-item-overlay"><div class="gallery-item-name">${a.name}</div><div class="gallery-item-meta">${floor} / ${area}</div></div>`;
        grid.appendChild(div);
      });
    }

    function filterGallery() {
      document.querySelectorAll('.gallery-item').forEach(item => {
        const fMatch = filters.floor === 'all' || item.dataset.floor === filters.floor;
        const aMatch = filters.area === 'all' || item.dataset.area === filters.area;
        item.classList.toggle('hidden', !(fMatch && aMatch));
      });
    }

    function openModal(i) {
      const a = artworks[i];
      const floor = a.attributes.find(x => x.trait_type === 'FLOOR')?.value || '-';
      const area = a.attributes.find(x => x.trait_type === 'AREA')?.value || '-';
      const point = a.attributes.find(x => x.trait_type === 'POINT')?.value || '-';
      document.getElementById('modal-name').textContent = a.name;
      document.getElementById('modal-attrs').innerHTML = `<div class="modal-attr">FLOOR<span>${floor}</span></div><div class="modal-attr">AREA<span>${area}</span></div><div class="modal-attr">POINT<span>${point}</span></div>`;
      document.getElementById('modal-image').src = `images/${a.image}`;
      document.getElementById('modal-model').src = `models/${a.animation_url}`;
      document.getElementById('modal-desc').textContent = a.description.replace(/\[([^\]]+)\]\([^)]+\)/g, '$1').replace(/\\n/g, ' ');
      document.getElementById('modal').classList.add('active');
      document.body.style.overflow = 'hidden';
    }

    function closeModal() {
      document.getElementById('modal').classList.remove('active');
      document.body.style.overflow = '';
      document.getElementById('modal-model').src = '';
    }

    document.addEventListener('keydown', e => { if (e.key === 'Escape') closeModal(); });
    init();
  </script>
</body>
</html>
